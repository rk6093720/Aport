<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Profile </title>
    <!-- favicons Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/images/favicons/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicons/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicons/favicon-16x16.png" />
    <link rel="manifest" href="assets/images/favicons/site.webmanifest" />
    <meta name="description" content="Aports HTML 5 Template " />
    <!-- fonts -->

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="assets/vendors/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/vendors/animate/animate.min.css" />
    <link rel="stylesheet" href="assets/vendors/animate/custom-animate.css" />
    <link rel="stylesheet" href="assets/vendors/fontawesome/css/all.min.css" />
    <link rel="stylesheet" href="assets/vendors/jarallax/jarallax.css" />
    <link rel="stylesheet" href="assets/vendors/jquery-magnific-popup/jquery.magnific-popup.css" />
    <link rel="stylesheet" href="assets/vendors/nouislider/nouislider.min.css" />
    <link rel="stylesheet" href="assets/vendors/nouislider/nouislider.pips.css" />
    <link rel="stylesheet" href="assets/vendors/odometer/odometer.min.css" />
    <link rel="stylesheet" href="assets/vendors/swiper/swiper.min.css" />
    <link rel="stylesheet" href="assets/vendors/aports-icons/style.css">
    <link rel="stylesheet" href="assets/vendors/tiny-slider/tiny-slider.min.css" />
    <link rel="stylesheet" href="assets/vendors/reey-font/stylesheet.css" />
    <link rel="stylesheet" href="assets/vendors/owl-carousel/owl.carousel.min.css" />
    <link rel="stylesheet" href="assets/vendors/owl-carousel/owl.theme.default.min.css" />
    <link rel="stylesheet" href="assets/vendors/bxslider/jquery.bxslider.css" />
    <link rel="stylesheet" href="assets/vendors/bootstrap-select/css/bootstrap-select.min.css" />
    <link rel="stylesheet" href="assets/vendors/vegas/vegas.min.css" />
    <link rel="stylesheet" href="assets/vendors/jquery-ui/jquery-ui.css" />
    <link rel="stylesheet" href="assets/vendors/timepicker/timePicker.css" />
    
    <!-- template styles -->
    <link rel="stylesheet" href="assets/css/aports.css" />
    <link rel="stylesheet" href="assets/css/aports-responsive.css" />
</head>
<body class="custom-cursor">
    <div class="preloader">
        <div class="preloader__image"></div>
    </div>
         <div class="custom-cursor__cursor"></div>
    <div class="custom-cursor__cursor-two"></div>
    <!-- /.preloader -->
    <div class="page-wrapper">
            <header class="main-header-two">
            <nav class="main-menu main-menu-two">
                <div class="main-menu-two__wrapper">
                    <div class="main-menu-two__wrapper-inner">
                        <div class="main-menu-two__left">
                            <div class="main-menu-two__logo">
                                <a href="index.html"><img src="assets/images/resources/logo-2.png" alt=""></a>
                            </div>
                        </div>
                        <div class="main-menu-two__main-menu-box">
                            <a href="#" class="mobile-nav__toggler"><i class="fa fa-bars"></i></a>
                            <ul class="main-menu__list">
                                <li class="dropdown current">
                                    <a href="index.html">Home </a>
                                </li>
                                <li class="dropdown">
                                    <a href="#">Appartments</a>
                                    <ul class="shadow-box">
                                        <li><a href="apartments.html">Apartments</a></li>
                                        <li><a href="apartment-details.html">Apartment Details</a></li>
                                    </ul>
                                </li>
                                <li >
                                    <a href="contact.html">Contact</a>
                                </li>
                                 <li >
                                    <a href="Blog.html">Blog</a>
                                </li>
                                  <!-- <li><a  href="./signup.html">SignUp</a></li>
                                  <li><a  href="./login.html">Login</a></li> -->
                            </ul>
                        
                       </div>
                       <div class="login-div"></div>
                </div>
            </nav>
        </header>
        <!-- profile section -->
          <section class="contact-two">
        </section>
    <section class="contact-three">
    <div class="container">
      <div class="contact-three__inner">
        <div class="section-title text-center">
          <span class="section-title__tagline">Welcome  </span>
          <h2 class="section-title__title">Add details</h2>
        </div>
        <div class="contact-three__form-box">
          <form id="my-form"    class="contact-three__form contact-form-validated"
            novalidate="novalidate">
            <div class="row g-3">
            <div class="col">
            <label for="Firstname">Firstname</label>
            <input id="firstName" type="text" class="form-control" placeholder="Firstname" name="firstName" aria-label="First name">
            </div>
            <div class="col">
            <label for="Lastname">LastName</label>
            <input id="lastName" type="text" class="form-control" placeholder="Lastname" aria-label="Lastname">
            </div>
            </div>
            <div class="row g-3">
            <div class="col">
            <label for="email">Email</label>
            <input  id="email" type="email" class="form-control" placeholder="email" aria-label="email">
            </div>
            <div class="col">
            <label for="phone">Phone</label>
            <input id="phone" type="text" class="form-control" c placeholder="phone" maxlength="10" aria-label="phone">
            </div>
            </div>
            <div class="row g-3">
            <div class="col">
            <label for="AadharCard">AadharCard</label>
            <input id="aadharCard" type="file" name="aadharCard" accept="application/pdf" class="form-control" placeholder="AadharCard" aria-label="AadharCard" aria-required="true">
            </div>
            <!-- <div class="col">
            <label for="PanCard">PanCard</label>
            <input id="panCard" type="file" name="panCard" accept="application/pdf" class="form-control" placeholder="panCard" aria-label="panCard" aria-required="true">
            </div> -->
            </div>
            <div class="row g-3">
            <div class="col">
            <label for="Date-of-birth">Date-of-birth</label>
            <input id="dateOfBirth" type="date" class="form-control" placeholder="dob" aria-label="date" aria-placeholder="date-of-birth">
            </div>
            <div class="col">
            <label for="city">Registration</label>
            <input id="registrationofRoomRent" type="date" class="form-control"  placeholder="Registration-of-date" aria-label="Registration-of-date">
            </div>
            </div>
            <div class="row g-3">
            <p>Residental Address</p>
            <div class="col">
            <label for="street">street</label>
            <input id="Residentalstreet" type="text" name="street"  class="form-control" placeholder="street" aria-label="AadharCard" aria-required="true">
            </div>
            <div class="col">
            <label for="city">city</label>
            <input id="Residentalcity" type="text" name="city"  class="form-control" placeholder="city" aria-label="panCard" aria-required="true">
            </div>
            </div>
            <div class="row g-3">
            <div class="col">
            <label for="state">state</label>
            <input id="Residentalstate" type="text" name="state" class="form-control" placeholder="state" aria-label="state" aria-placeholder="state">
            </div>
            <div class="col">
            <label for="country">country</label>
            <input id="Residentalcountry" type="text" name="country" class="form-control"  placeholder="country" aria-label="country">
            </div>
            <div class="col">
            <label for="postalCode">postalCode</label>
            <input id="ResidentalzipCode" type="text" class="form-control" name="pincode"  placeholder="postalCode" aria-label="postalCode">
            </div>
            </div>
            <div class="form-check">
            <input class="form-check-input" name="formcheckinput" type="checkbox" onclick="formSubmit(this.form)" value="" id="flexCheckDefault">
            <label class="form-check-label" for="flexCheckDefault">
            Same Address
            </label>
            </div>
            <div class="row g-3">
                <p>currentAddress</p>
             <div class="col">
               <label for="street">street</label>
               <input id="Currentstreet" type="text" name="currentstreet"  class="form-control" placeholder="street" aria-label="AadharCard" aria-required="true">
             </div>
             <div class="col">
              <label for="city">city</label>
               <input id="Currentcity" type="text" name="currentcity"  class="form-control" placeholder="city" aria-label="panCard" aria-required="true">
             </div>
            </div>
            <div class="row g-3">
              <div class="col">
                <label for="state">state</label>
                <input id="Currentstate" type="text" name="currentstate" class="form-control" placeholder="state" aria-label="state" aria-placeholder="state">
              </div>
             <div class="col">
              <label for="country">country</label>
               <input id="Currentcountry" type="text" name="currentcountry" class="form-control"  placeholder="country" aria-label="country">
             </div>
             <div class="col">
               <label for="postalCode">postalCode</label>
              <input id="CurrentzipCode"  type="text" name="currentpincode" class="form-control"  placeholder="postalCode" aria-label="postalCode">
             </div>
            </div>
             <div class="row">
              <div class="col">
                <div class="contact-form__btn-box" style="margin-top: 5px;">
                  <button type="submit" id="Add-details" class="thm-btn contact-form__btn">Add-Details</button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
<!-- Modal -->

        <!--Site Footer Start-->
        <footer class="site-footer">
            <div class="site-footer__top">
                <div class="site-footer__shape-1 float-bob-x">
                    <img src="assets/images/shapes/site-footer-shape-1.png" alt="">
                </div>
                <div class="container">
                    <div class="site-footer__top-inner">
                        <div class="row">
                            <div class="col-xl-4 col-lg-6 col-md-6 wow fadeInUp" data-wow-delay="100ms">
                                <div class="footer-widget__column footer-widget__about">
                                    <div class="footer-widget__about-text-box">
                                        <p class="footer-widget__about-text">Aports find out all the ways to enjoy
                                            modern and luxury residential life around the world.</p>
                                    </div>
                                    <div class="site-footer__social">
                                        <a href="#"><i class="fab fa-twitter"></i></a>
                                        <a href="#"><i class="fab fa-facebook"></i></a>
                                        <a href="#"><i class="fab fa-pinterest-p"></i></a>
                                        <a href="#"><i class="fab fa-instagram"></i></a>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-2 col-lg-6 col-md-6 wow fadeInUp" data-wow-delay="200ms">
                                <div class="footer-widget__column footer-widget__Explore">
                                    <div class="footer-widget__title-box">
                                        <h3 class="footer-widget__title">Explore</h3>
                                    </div>
                                    <ul class="footer-widget__Explore-list list-unstyled">
                                        <li><a href="about.html">About</a></li>
                                        <li><a href="contact.html">Contact</a></li>
                                        <li><a href="about.html">Custom Widget</a></li>
                                        <li><a href="about.html">Shortcodes</a></li>
                                        <li><a href="about.html">Blank page</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-6 col-md-6 wow fadeInUp" data-wow-delay="300ms">
                                <div class="footer-widget__column footer-widget__find">
                                    <div class="footer-widget__title-box">
                                        <h3 class="footer-widget__title">Find</h3>
                                    </div>
                                    <p class="footer-widget__find-text">30 Broklyn Golden Street, New <br> York United
                                        States of <br> America</p>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-6 col-md-6 wow fadeInUp" data-wow-delay="400ms">
                                <div class="footer-widget__column footer-widget__Contact">
                                    <div class="footer-widget__title-box">
                                        <h3 class="footer-widget__title">Contact</h3>
                                    </div>
                                    <ul class="footer-widget__Contact-list list-unstyled">
                                        <li>
                                            <div class="icon">
                                                <span class="fas fa-phone-alt"></span>
                                            </div>
                                            <div class="text">
                                                <p><a href="tel:23425446680">+23 425 4466 80</a></p>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="icon">
                                                <span class="fas fa-clock"></span>
                                            </div>
                                            <div class="text">
                                                <p>Mon - Sun: 8AM - 8PM</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="icon">
                                                <span class="fas fa-envelope"></span>
                                            </div>
                                            <div class="text">
                                                <p><a href="mailto:needhelp@company.com">needhelp@company.com</a></p>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="site-footer__bottom">
                <div class="container">
                    <div class="row">
                        <div class="col-xl-12">
                            <div class="site-footer__bottom-inner">
                                <p class="site-footer__bottom-text">© All Copyright 2022 by <a href="#">Aports.com</a>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
        <!--Site Footer End-->
    </div>


    <!-- /.page-wrapper -->
    <div class="mobile-nav__wrapper">
        <div class="mobile-nav__overlay mobile-nav__toggler"></div>
        <!-- /.mobile-nav__overlay -->
        <div class="mobile-nav__content">
            <span class="mobile-nav__close mobile-nav__toggler"><i class="fa fa-times"></i></span>

            <div class="logo-box">
                <a href="index.html" aria-label="logo image"><img src="assets/images/resources/logo-3.png" width="122"
                        alt="" /></a>
            </div>
            <!-- /.logo-box -->
            <div class="mobile-nav__container"></div>
            <!-- /.mobile-nav__container -->

            <ul class="mobile-nav__contact list-unstyled">
                <li>
                    <i class="fa fa-envelope"></i>
                    <a href="mailto:needhelp@packageName__.com">needhelp@agrion.com</a>
                </li>
                <li>
                    <i class="fa fa-phone-alt"></i>
                    <a href="tel:666-888-0000">666 888 0000</a>
                </li>
            </ul><!-- /.mobile-nav__contact -->
            <div class="mobile-nav__top">
                <div class="mobile-nav__social">
                    <a href="#" class="fab fa-twitter"></a>
                    <a href="#" class="fab fa-facebook-square"></a>
                    <a href="#" class="fab fa-pinterest-p"></a>
                    <a href="#" class="fab fa-instagram"></a>
                </div><!-- /.mobile-nav__social -->
            </div><!-- /.mobile-nav__top -->
        </div>
        <!-- /.mobile-nav__content -->
    </div>
    <!-- /.mobile-nav__wrapper -->
    <div class="search-popup">
        <div class="search-popup__overlay search-toggler"></div>
        <!-- /.search-popup__overlay -->
        <div class="search-popup__content">
            <form action="#">
                <label for="search" class="sr-only">search here</label><!-- /.sr-only -->
                <input type="text" id="search" placeholder="Search Here..." />
                <button type="submit" aria-label="search submit" class="thm-btn">
                    <i class="icon-magnifying-glass"></i>
                </button>
            </form>
        </div>
        <!-- /.search-popup__content -->
    </div>
    <!-- /.search-popup -->
    <a href="#" data-target="html" class="scroll-to-target scroll-to-top"><i class="icon-right-arrow"></i></a>
    <script src="assets/vendors/jquery/jquery-3.6.0.min.js"></script>
    <script src="assets/vendors/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendors/jarallax/jarallax.min.js"></script>
    <script src="assets/vendors/jquery-ajaxchimp/jquery.ajaxchimp.min.js"></script>
    <script src="assets/vendors/jquery-appear/jquery.appear.min.js"></script>
    <script src="assets/vendors/jquery-circle-progress/jquery.circle-progress.min.js"></script>
    <script src="assets/vendors/jquery-magnific-popup/jquery.magnific-popup.min.js"></script>
    <script src="assets/vendors/jquery-validate/jquery.validate.min.js"></script>
    <script src="assets/vendors/nouislider/nouislider.min.js"></script>
    <script src="assets/vendors/odometer/odometer.min.js"></script>
    <script src="assets/vendors/swiper/swiper.min.js"></script>
    <script src="assets/vendors/tiny-slider/tiny-slider.min.js"></script>
    <script src="assets/vendors/wnumb/wNumb.min.js"></script>
    <script src="assets/vendors/wow/wow.js"></script>
    <script src="assets/vendors/isotope/isotope.js"></script>
    <script src="assets/vendors/countdown/countdown.min.js"></script>
    <script src="assets/vendors/owl-carousel/owl.carousel.min.js"></script>
    <script src="assets/vendors/bxslider/jquery.bxslider.min.js"></script>
    <script src="assets/vendors/bootstrap-select/js/bootstrap-select.min.js"></script>
    <script src="assets/vendors/vegas/vegas.min.js"></script>
    <script src="assets/vendors/jquery-ui/jquery-ui.js"></script>
    <script src="assets/vendors/timepicker/timePicker.js"></script>
    <script src="assets/vendors/circleType/jquery.circleType.js"></script>
    <script src="assets/vendors/circleType/jquery.lettering.min.js"></script>
    <!-- template js -->
    <script src="assets/js/aports.js"></script>
</body>
</html>
<script>
    var profile = JSON.parse(localStorage.getItem("token"));
    console.log(profile)
    let profilesection = document.querySelector(".contact-two");
    function displayProfile(data){
        console.log(data.email)
        profilesection.innerHTML="";
        let box = document.createElement("div");
        box.setAttribute("class","container");
        let row = document.createElement("div");
        row.setAttribute("class","row");
        let div = document.createElement("div");
        div.classList.add("col-xl-6","col-lg-6");
        let right = document.createElement("div");
        right.setAttribute("class","contact-two__right");
        let  title = document.createElement("div");
        title.setAttribute("class","section-title text-left");
        let h2 = document.createElement("h2");
        h2.setAttribute("class","section-title__title");
        h2.textContent ="Personal Information";
        let ul = document.createElement("ul");
        ul.setAttribute("class","list-unstyled contact-two__list");
        let li = document.createElement("li");
         let lidiv = document.createElement("div");
         lidiv.setAttribute("class","icon");
         let i = document.createElement("i");
         i.setAttribute("class","icon-email");
         let content = document.createElement("div");
         content.setAttribute("class","content");
         let p = document.createElement("p");
         p.textContent="email";
         let h4 = document.createElement("h4");
         let a= document.createElement("a");
         a.href= `mailto:${data.email}`;
         a.textContent=data.email;
       //  ............. 2nd list
         let secondlidiv = document.createElement("div");
         secondlidiv.setAttribute("class","icon");
         let secondi = document.createElement("i");
         secondi.classList.add("bi","bi-person");
         let secondcontent = document.createElement("div");
         content.setAttribute("class","content");
         let secondp = document.createElement("p");
         secondp.textContent="Role";
         let secondh4 = document.createElement("h4");
         let seconda= document.createElement("p");
         seconda.textContent=data.role;
         secondh4.append(seconda)
         h4.append(a);
         secondlidiv.append(secondi)
         lidiv.append(i);
         content.append(p,h4);
         secondcontent.append(secondp,secondh4)
         li.append(lidiv,content,secondlidiv,secondcontent);
         ul.append(li);
         title.append(h2);
         right.append(title,ul);
         div.append(right)
         row.append(div)
         box.append(row);
         profilesection.append(box)
    }
    displayProfile(profile)
    //user's adding own profile
document.getElementById("my-form").addEventListener("submit", AddUser);
async function AddUser(e) {
    e.preventDefault();
    let firstName = document.getElementById("firstName").value;
    let lastName = document.getElementById("lastName").value;
    let email = document.getElementById("email").value;
    let phone = document.getElementById("phone").value;
    let aadharCard = document.getElementById("aadharCard").files[0];
  //  let panCard = document.getElementById("panCard").files[0];
    let residentalAddress = {
        street: document.getElementById("Residentalstreet").value,
        city: document.getElementById("Residentalcity").value,
        state: document.getElementById("Residentalstate").value,
        country: document.getElementById("Residentalcountry").value,
        zipCode: document.getElementById("ResidentalzipCode").value
    };
    let currentAddress = {
        street: document.querySelector("#Currentstreet").value,
        city: document.querySelector("#Currentcity").value,
        state: document.querySelector("#Currentstate").value,
        country: document.querySelector("#Currentcountry").value,
        zipCode: document.querySelector("#CurrentzipCode").value
    };
    let formData = new FormData();
    formData.append("firstName", firstName);
    formData.append("lastName", lastName);
    formData.append("email", email);
    formData.append("phone", phone);
    formData.append("aadharCard", aadharCard);
    //formData.append("panCard", panCard);
    formData.append("residentalAddress[street]", residentalAddress.street);
    formData.append("residentalAddress[city]", residentalAddress.city);
    formData.append("residentalAddress[state]", residentalAddress.state);
    formData.append("residentalAddress[country]", residentalAddress.country);
    formData.append("residentalAddress[zipCode]", residentalAddress.zipCode);

    formData.append("currentAddress[street]", currentAddress.street);
    formData.append("currentAddress[city]", currentAddress.city);
    formData.append("currentAddress[state]", currentAddress.state);
    formData.append("currentAddress[country]", currentAddress.country);
    formData.append("currentAddress[zipCode]", currentAddress.zipCode);
    try {
       const res = await fetch("http://localhost:8080/tentants/create",{
        method:"POST",
        headers:{
           //  Authorization:`Bearer ${token.token}`,
             "Content-Type":"application/json"
        },
        body:formData
       });
       const data = await res.json();
       console.log(data)
        if(data.message === "User already exists"){
           alert(data.message)
        }else {
            alert(data.msg)
        }
    } catch (e) {
        alert(e.message);
    }
}
function formSubmit(f){
    if(f.formcheckinput.checked === true){
        f.currentstreet.value =f.street.value;
        f.currentcity.value =f.city.value;
        f.currentstate.value =f.state.value;
        f.currentcountry.value =f.country.value;
        f.currentpincode.value =f.pincode.value;
    }else{
        f.currentstreet.value ="";
        f.currentcity.value ="";
        f.currentstate.value ="";
        f.currentcountry.value ="";
        f.currentpincode.value ="";
    }
}
</script>